---
title: C语言知识随笔
date: 2019-10-11 10:43:12
categories:
- C语言
tags:
- 随笔
---

# C语言随笔

### 一、使用&求余

%运算:a%b
由于我们知道位运算比较高效，在某些情况下，当b为2的n次方时，有如下替换公式： 
**a % b = a & (b-1)(b=2n)** 
即：**a % 2n = a & (2n-1)**

例如：14%8，取余数，相当于取出低位，而余数最大为7，14二进制为1110，8的二进制1000，8-1 = 7的二进制为0111，由于现在低位全为1，让其跟14做&运算，正好取出的是其低位上的余数。1110&0111=110即6=14%8；（此公式只适用b=2n，是因为可以保证b始终只有最高位为1，其他二进制位全部为0，减去1，之后，可以把高位1消除，其他位都为1，而与1做&运算，会保留原来的数。）

### 二、递归

当n=5时，下列函数的返回值是：29

```C
int foo(int n){
 if(n<2){
   return n;
}
 else
   return 2*foo(n-1)+foo(n-2);
}
```

```c
n=5,return 2*f(4)+f(3)
f(4)=2*f(3)+f(2)
f(3)=2*f(2)+f(1)
f(2)=2*f(1)+f(0)
f(0)=0,f(1)=1,代回上式
f(5)=29
```

